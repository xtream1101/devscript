<div class="relative flex flex-grow flex-col gap-4">
    <div class="flex flex-grow bg-white rounded-xl p-6 w-full max-w-2xl mx-auto mb-24">
        <form method="POST" class="flex flex-col gap-4 w-full">
            <div>
                <h1 class="text-2xl font-bold text-stone-900">{{ form_data.title }}</h1>
                <p class="text-stone-600">{{ form_data.description }}</p>
            </div>

            {% if error %}
            <div class="mb-4 bg-red-50 border border-red-200 text-red-800 rounded-xl p-4">
                <p class="text-sm">{{ error }}</p>
            </div>
            {% endif %}

            <div>
                <label for="title" class="block text-sm font-medium text-gray-900">Title</label>
                <div class="mt-1">
                    <input
                        type="text"
                        name="title"
                        class="block w-full rounded-md bg-white px-3 py-1.5 text-sm text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600"
                        required
                        value="{{ snippet.title if snippet and snippet.title else '' }}"
                    />
                </div>
            </div>

            <div>
                <label for="subtitle" class="block text-sm font-medium text-gray-900">Subtitle</label>
                <div class="mt-1">
                    <input
                        type="text"
                        name="subtitle"
                        class="block w-full rounded-md bg-white px-3 py-1.5 text-sm text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600"
                        required
                        value="{{ snippet.subtitle if snippet and snippet.subtitle else '' }}"
                    />
                </div>
            </div>

            <div>
                <label for="command_name" class="block text-sm font-medium text-gray-900">Command Name</label>
                <div class="mt-1 grid grid-cols-1">
                    <input
                        type="text"
                        name="command_name"
                        class="col-start-1 row-start-1 block w-full rounded-md bg-white pl-8  pr-3 py-1.5 text-sm text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600"
                        required
                        value="{{ snippet.command_name if snippet and snippet.command_name else '' }}"
                    />
                    <svg class="pointer-events-none col-start-1 row-start-1 ml-1 size-6 self-center text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path fill-rule="evenodd" d="M2.25 6a3 3 0 0 1 3-3h13.5a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V6Zm3.97.97a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 0 1-1.06-1.06l1.72-1.72-1.72-1.72a.75.75 0 0 1 0-1.06Zm4.28 4.28a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z" clip-rule="evenodd" />
                    </svg>
                </div>
            </div>

            {% if supported_languages and supported_languages.options %}
            <div>
                <label for="language" class="block text-sm font-medium text-gray-900">Language</label>
                <div class="mt-2 grid grid-cols-1">
                    <select id="language" name="language" class="col-start-1 row-start-1 w-full appearance-none rounded-md bg-white py-1.5 pl-3 pr-8 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6">
                        {% for option in supported_languages.options %}
                        <option value="{{ option.name }}" {% if snippet and snippet.language == option.name %}selected{% endif %}>{{ option.value[0] }}</option>
                        {% endfor %}
                    </select>
                    <svg class="pointer-events-none col-start-1 row-start-1 mr-2 size-5 self-center justify-self-end text-gray-500 sm:size-4" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" data-slot="icon">
                        <path fill-rule="evenodd" d="M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
                    </svg>
                </div>
            </div>
            {% endif %}


        </form>
        {% if snippet %}
        <form id="snippet-delete" action="/snippets/{{ snippet.id }}/delete" method="POST" onsubmit="return confirm('Are you sure you want to delete {{ snippet.title }}?')" class="hidden">
        </form>
        {% endif %}
    </div>

    <div class="fixed inset-x-0 bottom-0 w-full flex justify-center items-center">
        <div class="flex flex-row bg-white rounded-xl p-6 w-full max-w-2xl mx-auto mb-4">
            buttons
        </div>
    </div>
</div>
