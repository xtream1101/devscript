<div class="flex flex-col bg-white rounded-xl p-6 h-full gap-4">
    <div class="flex flex-col gap-2">
        <div class="flex justify-between items-center">
            <div class="flex flex-row items-center gap-2">
                <span class="text-xl font-bold text-gray-900">
                    {{ snippet.title }}
                </span>
            </div>

            <div class="flex items-center justify-end space-x-4">
                {% if user %}
                    <form action="/snippets/{{ snippet.id }}/fork" method="POST">
                        <button
                            type="submit"
                            class="flex justify-center items-center rounded-md font-medium gap-1  py-2 px-4 bg-lime-400 text-gray-900 hover:bg-lime-300"
                        >
                            Fork
                        </button>
                    </form>
                    {% if snippet.user_id == (user.id|string) %}
                        <a href="/snippets/{{ snippet.id }}/edit" class="flex justify-center items-center rounded-md font-medium gap-1  py-2 px-4 bg-stone-950 text-white hover:bg-stone-800">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
                            </svg>
                            <span>Edit</span>
                        </a>
                    {% endif %}
                {% endif %}
                {% if inline %}
                <a href="/snippets/{{ snippet.id }}" class="text-xs text-stone-950 hover:text-stone-800">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" />
                    </svg>
                </a>
                {% endif %}
            </div>
        </div>
        <div class="flex flex-row gap-1">
            {% if snippet.forked_from_id %}
            <span class="text-xs text-gray-500">Forked from <a href="/snippets/{{ snippet.forked_from_id }}" class="text-blue-600 hover:text-blue-800">original snippet</a></span>
            <span class="text-xs text-gray-500">•</span>
            {% endif %}
            <span class="text-xs text-gray-500">Last Updated {{ snippet.updated_at.strftime('%Y-%m-%d %H:%M') }}</span>
            <span class="text-xs text-gray-500">•</span>
            <span class="text-xs text-gray-500">Created {{ snippet.created_at.strftime('%Y-%m-%d %H:%M') }}</span>
        </div>

        {% if snippet.description %}
        <p class="text-sm text-gray-600">{{ snippet.html_description | safe }}</p>
        {% endif %}

        {% include "_partials/snippet_tags.html" %}

    </div>

    <div>
        <pre class="border rounded-lg overflow-x-auto"><code class="language-{{ snippet.language }}">{{ snippet.content }}</code></pre>
    </div>
</div>
